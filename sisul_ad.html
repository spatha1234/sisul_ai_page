<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>서울시설공단 AI 혁신 - 서울시설공단</title>
    <link rel="icon" type="image/png" href="logo.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="has-fixed-footer page-sisul-ad">
    <!-- 헤더 -->
    <header>
        <nav>
            <div class="logo">
                <a href="index.html">
                    <img src="logo.png" alt="서울시설공단">
                </a>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">홈</a></li>
                <li><a href="#intro">서울시설공단 소개</a></li>
                <li><a href="#services">AI 서비스</a></li>
            </ul>
        </nav>
    </header>

    <!-- 비디오 섹션 -->
    <section class="video-section">
        <h1>서울시설공단 AI 혁신</h1>
        <p>스마트 시티를 선도하는 서울시설공단의 AI 기술</p>
        <div class="video-container">
            <iframe src="https://www.youtube.com/embed/cN4UFPdf6xY?autoplay=1&mute=1" title="서울시설공단 AI 혁신" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
    </section>

    <!-- 서울시설공단 소개 섹션 -->
    <section id="intro" class="intro-section">
        <h2>서울시설공단 소개</h2>
        <div class="intro-content">
            <h3>서울시설공단이란?</h3>
            <p>
                서울시설공단은 서울시의 주요 시설을 효율적으로 관리하고 운영하는 공공기관입니다. 
                지하도상가, 공영주차장, 공원, 체육시설 등 다양한 시설을 관리하며, 시민들에게 
                최상의 서비스를 제공하기 위해 지속적으로 혁신하고 있습니다.
            </p>
            <p>
                최근에는 AI 기술을 활용한 스마트 시설 관리 시스템 구축에 앞장서고 있으며, 
                디지털 전환을 통해 더욱 효율적이고 지능적인 시설 운영을 실현하고 있습니다.
            </p>
            
            <!-- 투출기관장모임 서울시설공단 소개 (페이지 넘기기) -->
            <div class="intro-pdf-viewer">
                <div class="intro-pdf-canvas-wrap">
                    <canvas id="introPdfCanvas"></canvas>
                </div>
                <div class="intro-pdf-nav">
                    <button type="button" id="introPrevPage" aria-label="이전 페이지">←</button>
                    <span class="intro-pdf-page-info" id="introPageInfo">1 / 1</span>
                    <button type="button" id="introNextPage" aria-label="다음 페이지">→</button>
                </div>
            </div>
        </div>
    </section>

    <!-- AI 서비스 섹션 -->
    <section id="services" class="services-section">
        <div class="services-container">
            <h2>서울시설공단 AI 서비스</h2>
            
            <div class="service-grid">
                <!-- AI 영상검지기 -->
                <div class="service-card">
                    <img src="AI_영상검지기/AI_영상검지기.png" alt="AI 영상검지기" class="service-image">
                    <div class="service-content">
                        <h3>AI 영상검지기</h3>
                        <p>
                            도로에 진입하는 보행자를 AI로 인식하여 자동으로 조치하는 영상검지 시스템입니다. 
                            실시간 영상 분석을 통해 안전사고를 예방하고 시민의 안전을 보장합니다.
                        </p>
                    </div>
                </div>

                <!-- 따릉이 챗봇 -->
                <div class="service-card">
                    <img src="따릉이챗봇/따릉이 챗봇.png" alt="따릉이 챗봇" class="service-image">
                    <div class="service-content">
                        <h3>따릉이 챗봇</h3>
                        <p>
                            서울시 공공자전거 '따릉이' 서비스를 위한 AI 챗봇입니다. 
                            사용자 문의에 대해 지능적으로 응답하며, 대여/반납 안내, 
                            이용 방법 안내 등 다양한 서비스를 제공합니다.
                        </p>
                    </div>
                </div>

                <!-- 지하도상가 AI 피팅룸 -->
                <div class="service-card">
                    <img src="지하도상가_AI피팅룸/지하도상가_AI피팅룸.png" alt="지하도상가 AI 피팅룸" class="service-image">
                    <div class="service-content">
                        <h3>지하도상가 AI 피팅룸</h3>
                        <p>
                            종각역 지하도상가에 구축된 AI 기반 가상 피팅룸입니다. 
                            고객이 옷을 입지 않고도 AI 기술로 옷을 입은 모습을 확인할 수 있으며, 
                            스마트 쉼터와 함께 제공되어 쇼핑 경험을 혁신합니다.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 고정 푸터 (클릭 시 지원서 작성 페이지로 이동) -->
    <a href="application.html" class="fixed-footer">
        <div class="fixed-footer-content">
            <span class="fixed-footer-text">서울시설공단과 함께 AI 혁신에 동참하세요</span>
        </div>
    </a>

    <!-- 푸터 -->
    <footer>
        <p>&copy; 2026 서울시설공단. All rights reserved.</p>
        <p>서울시설공단과 함께 더 나은 미래를 만들어갑니다.</p>
    </footer>

    <script src="script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

        (function() {
            var introPdfDoc = null;
            var introCurrentPage = 1;
            var introTotalPages = 1;
            var introPdfUrl = '250117_투출기관장모임_서울시설공단 소개.pdf';

            var canvas = document.getElementById('introPdfCanvas');
            var ctx = canvas.getContext('2d');
            var pageInfo = document.getElementById('introPageInfo');
            var btnPrev = document.getElementById('introPrevPage');
            var btnNext = document.getElementById('introNextPage');
            var container = document.querySelector('.intro-pdf-canvas-wrap');

            function renderIntroPage(num) {
                if (!introPdfDoc) return;
                introCurrentPage = num;
                pageInfo.textContent = introCurrentPage + ' / ' + introTotalPages;
                btnPrev.disabled = introCurrentPage <= 1;
                btnNext.disabled = introCurrentPage >= introTotalPages;

                introPdfDoc.getPage(introCurrentPage).then(function(page) {
                    var viewport = page.getViewport({ scale: 1 });
                    var maxW = container ? container.clientWidth : 800;
                    var scale = Math.min(maxW / viewport.width, 2);
                    viewport = page.getViewport({ scale: scale });
                    canvas.height = viewport.height;
                    canvas.width = viewport.width;
                    var renderContext = { canvasContext: ctx, viewport: viewport };
                    page.render(renderContext);
                });
            }

            function loadIntroPdf() {
                pageInfo.textContent = '로딩 중...';
                var pdfPath = introPdfUrl.replace(/ /g, '%20');
                fetch(pdfPath)
                    .then(function(res) {
                        if (!res.ok) throw new Error('파일을 찾을 수 없습니다.');
                        return res.arrayBuffer();
                    })
                    .then(function(arrayBuffer) {
                        return pdfjsLib.getDocument({ data: arrayBuffer }).promise;
                    })
                    .then(function(pdf) {
                        introPdfDoc = pdf;
                        introTotalPages = pdf.numPages;
                        renderIntroPage(1);
                    })
                    .catch(function(err) {
                        pdfjsLib.getDocument({ url: pdfPath }).promise
                            .then(function(pdf) {
                                introPdfDoc = pdf;
                                introTotalPages = pdf.numPages;
                                renderIntroPage(1);
                            })
                            .catch(function() {
                                pageInfo.textContent = 'PDF를 불러올 수 없습니다. (Live Server 등 http 서버로 실행해 주세요)';
                                btnPrev.disabled = true;
                                btnNext.disabled = true;
                            });
                    });
            }

            loadIntroPdf();

            btnPrev.addEventListener('click', function() {
                if (introCurrentPage > 1) renderIntroPage(introCurrentPage - 1);
            });

            btnNext.addEventListener('click', function() {
                if (introCurrentPage < introTotalPages) renderIntroPage(introCurrentPage + 1);
            });

            document.addEventListener('keydown', function(e) {
                if (e.key === 'ArrowLeft' && introCurrentPage > 1) {
                    renderIntroPage(introCurrentPage - 1);
                } else if (e.key === 'ArrowRight' && introCurrentPage < introTotalPages) {
                    renderIntroPage(introCurrentPage + 1);
                }
            });
        })();

        // 부드러운 스크롤
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>
